{% load staticfiles %}
<!--<link rel="stylesheet" href="{% static 'esearch/css/bootstrap.min.css' %}" /> Download Bootstrap icons to use.-->
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<script src="{% static 'esearch/js/common/jquery.min.js' %}"></script>
<script src="{% static 'esearch/js/common/bootstrap.min.js' %}"></script>
{% load get_from_dict %}
{% load get_from_source %}

<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
  	<div class="container">
      <br>
      <div class="row">
        <hr>
        <h2>Search</h2>
        <div class="col-sm-4">
          <h2>Input</h2>
          <div class="form-group">
            <label for="input-select-node" class="sr-only">Search Tree:</label>
            <input type="input" class="form-control" id="input-select-node" placeholder="Identify node..." value="Shakespeare">
          </div>
          <div class="checkbox">
            <label>
              <input type="checkbox" class="checkbox" id="chk-select-multi" value="false">
              Multi Select
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input type="checkbox" class="checkbox" id="chk-select-silent" value="false">
              Silent (No events)
            </label>
          </div>
          <div class="form-group">
              <button type="button" class="btn btn-info select-node" id="btn-select-node">Select Node</button>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-info select-node" id="btn-unselect-node">Unselect Node</button>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-info select-node" id="btn-toggle-selected">Toggle Node</button>
          </div>
        </div>

        <div class="col-sm-4">
          <h2>Tree</h2>
          <div id="treeview-selectable" class=""></div>
        </div>

        <div class="col-sm-4">
          <h2>Search</h2>
          <div class="form-group">
            <label for="input-select-node" class="sr-only">Search Tree:</label>
            <input type="input" class="form-control" id="input-select-node" placeholder="Identify node..." value="Shakespeare">
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-success select-node" id="btn-select-node">AND</button>
            <button type="button" class="btn btn-primary select-node" id="btn-toggle-selected">OR</button>
            <button type="button" class="btn btn-warning select-node" id="btn-unselect-node">NOT</button>
            <button type="button" class="btn btn-danger select-node" id="clear-query-field">CLEAR</button>
          </div>

        	<div class="events">
        	  <h2>Query</h2>
        	  <div id="selectable-output"></div>
        	</div>

        </div>

      </div>

      <div class="row">
	  <h2>Test Elasticsearch raw output</h2>

		{% if results_list %}
			<ul>
			{% for name in results_list.hits.hits %}
				<li>{{ name|get_from_source:"play_name" }} {{ name|get_from_source:"text_entry" }} {{ name|get_from_source:"speaker" }}</li>
			{% endfor %}
			</ul>
		{% else %}
			<p>No results are available.</p>
		{% endif %}
		
		{% if results_list %}
			<ul>
			{% for name in results_list.hits.hits %}
				<li>{{ name }}</li>
			{% endfor %}
			</ul>
		{% else %}
			<p>No results are available.</p>
		{% endif %}

    </div>
</div> <!-- Container -->


<script src="{% static 'esearch/js/common/bootstrap-treeview.js' %}"></script>
<script src="{% static 'esearch/js/custom-treeview.js' %}"></script>
<script src="{% static 'esearch/js/csrf.js' %}"></script>
  </body>
</html>

